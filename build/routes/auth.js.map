{"version":3,"sources":["../../src/routes/auth.js"],"names":["router","express","Router","diskStorage","multer","destination","req","file","cb","filename","Date","now","originalname","uplode","storage","post","single","validateSignup","isRequestValidate","Signup","validateLogin","Login","get","auth","Profile"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;AAHA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AASA,IAAMC,WAAW,GAAGC,mBAAOD,WAAP,CAAmB;AACrCE,EAAAA,WAAW,EAAE,qBAAUC,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACpCA,IAAAA,EAAE,CAAC,IAAD,EAAO,gBAAP,CAAF;AACD,GAHoC;AAIrCC,EAAAA,QAAQ,EAAE,kBAAUH,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACjCA,IAAAA,EAAE,CAAC,IAAD,EAAOE,IAAI,CAACC,GAAL,KAAaJ,IAAI,CAACK,YAAzB,CAAF;AACD;AANoC,CAAnB,CAApB;;AAQA,IAAMC,MAAM,GAAG,wBAAO;AACpBC,EAAAA,OAAO,EAAEX;AADW,CAAP,CAAf;AAIAH,MAAM,CAACe,IAAP,CACE,SADF,EAEEF,MAAM,CAACG,MAAP,CAAc,OAAd,CAFF,EAGEC,mCAHF,EAIEC,sCAJF,EAKEC,qBALF;AAQAnB,MAAM,CAACe,IAAP,CAAY,QAAZ,EAAsBK,kCAAtB,EAAqCF,sCAArC,EAAwDG,oBAAxD;AAEArB,MAAM,CAACsB,GAAP,CAAW,UAAX,EAAuBC,gBAAvB,EAA6BC,sBAA7B;eAEexB,M","sourcesContent":["import express from \"express\";\r\nimport multer from \"multer\";\r\nconst router = express.Router();\r\nimport auth from \"../middlewares/auth\";\r\nimport { Signup, Login, Profile } from \"../controller/authControler\";\r\nimport {\r\n  validateSignup,\r\n  isRequestValidate,\r\n  validateLogin,\r\n} from \"../utils/sanitizeAndValidate\";\r\n\r\nconst diskStorage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    cb(null, \"src/public/img\");\r\n  },\r\n  filename: function (req, file, cb) {\r\n    cb(null, Date.now() + file.originalname);\r\n  },\r\n});\r\nconst uplode = multer({\r\n  storage: diskStorage,\r\n});\r\n\r\nrouter.post(\r\n  \"/signup\",\r\n  uplode.single(\"image\"),\r\n  validateSignup,\r\n  isRequestValidate,\r\n  Signup\r\n);\r\n\r\nrouter.post(\"/login\", validateLogin, isRequestValidate, Login);\r\n\r\nrouter.get(\"/profile\", auth, Profile);\r\n\r\nexport default router;\r\n"],"file":"auth.js"}